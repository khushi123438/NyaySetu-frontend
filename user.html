<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NyaySetu</title>
  <style>
    /* --- Global Reset & Base --- */
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background: #f0f4f8; color: #111827; }

   /* --- Navbar --- */

   /* --- Navbar --- */
.navbar {
  position: sticky;
  top: 0;
  z-index: 100;
  background: linear-gradient(90deg, #4f46e5, #75f2f2);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(8px);
}

.nav-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 8%;
}

.logo {
  font-size: 28px;
  font-weight: 700;
  color: #fff;
  letter-spacing: 1px;
}

nav {
  display: flex;
  gap: 12px;
}

nav a {
  color: #fff;
  font-weight: 600;
  padding: 10px 16px;
  border-radius: 10px;
  text-decoration: none;
  transition: 0.3s;
}

nav a::after { content: ''; position: absolute; bottom: 4px; left: 50%; transform: translateX(-50%); width: 0; height: 2px; background: #fff; transition: 0.3s; } nav a:hover::after { width: 60%; } nav a:hover { background: rgba(255, 255, 255, 0.15); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }



.profile-icon img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  border: 2px solid #ffffffaa;
  transition: 0.3s;
}

.menu-toggle {
  display: none;
  font-size: 28px;
  color: #fff;
  cursor: pointer;
}

/* Mobile Responsive Navbar */
@media(max-width: 768px){
  nav {
    display: none;
    flex-direction: column;
    background: #4f46e5;
    width: 100%;
    padding: 15px 0;
  }
  nav.active {
    display: flex;
  }
  .menu-toggle {
    display: block;
  }
}

    /* --- Hero Section --- */
    .hero {
      background: linear-gradient(135deg, #75f2f2, #4f46e5);
      color:#fff;
      text-align:center;
      padding:80px 20px;
      border-bottom-left-radius:50px;
      border-bottom-right-radius:50px;
    }
    .hero h2 { font-size:3rem; font-weight:bold; margin-bottom:12px; opacity:0; transform:translateY(20px); animation: fadeInUp 0.8s forwards; }
    .hero p { font-size:1.2rem; margin-bottom:20px; opacity:0; transform:translateY(20px); animation: fadeInUp 1s forwards; }
    .search-bar { margin-top:20px; opacity:0; transform:translateY(20px); animation: fadeInUp 1.2s forwards; }
    .search-bar input {
      width:350px; padding:14px 20px;
      border-radius:30px 0 0 30px;
      border:none; outline:none; font-size:1rem;
    }
    .search-bar button {
      border-radius:0 30px 30px 0;
      padding:14px 24px;
      background:#3730a3; color:#fff; font-weight:600;
      transition:0.3s;
    }
    .search-bar button:hover { background:#2c1e91; transform: scale(1.05); }

    /* --- Sections --- */
    .section { text-align:center; padding:60px 10%; }
    .section h3 { font-size:28px; color:#4f46e5; margin-bottom:12px; }
    .section p { margin-bottom:20px; color:#111827; }

    /* --- Cards & Grid --- */
    /* --- Cards & Grid --- */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 24px;
  margin-top: 40px;
  padding: 0 5%;
}

.card, .profile-card {
  background: linear-gradient(135deg, #75f2f2, #4f46e5); /* smooth theme gradient */
  border-radius: 16px;
  padding: 24px 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;

  /* white, clean text over gradient */
  color: #ffffff;
}

.card *, .profile-card * {
  color: #ffffff !important; /* keep everything readable */
}


.card:hover, .profile-card:hover { 
  transform: translateY(-6px) scale(1.03); 
  box-shadow: 0 18px 36px rgba(0,0,0,0.15); 
}

.card img, .profile-card img { 
  width: 120px; 
  height: 120px; 
  object-fit: cover; 
  border-radius: 50%; 
  margin-bottom: 16px; 
  transition: transform 0.3s ease;
}

.card img:hover {
  transform: scale(1.05);
}

.card h4, .profile-card h4 {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 8px;
  color: #111827;
}

.card p, .profile-card p {
  font-size: 0.95rem;
  color: #4b5563;
  margin-bottom: 12px;
}

.card button, .profile-card button {
  background: #4f46e5;
  color: #fff;
  padding: 10px 22px;
  border-radius: 30px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s ,transform 0.3s, box-shadow 0.3s;
}

.card button:hover, .profile-card button:hover {
  background: #3730a3;
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}

/* --- Responsive adjustments --- */



    /* --- Slider --- */
   
    /* --- Chatbot --- */
    #chatContainer {
      position:fixed; bottom:20px; right:20px;
      width:350px; height:450px;
      border-radius:12px; overflow:hidden;
      box-shadow:0 5px 15px rgba(0,0,0,0.3);
      display:none; z-index:999;
      background:#fff; border:1px solid #4f46e5;
    }
    .chat-header {
      background:#4f46e5; color:white;
      padding:10px; font-weight:bold; display:flex; justify-content:space-between; align-items:center;
    }
    .close-btn { background:transparent; border:none; color:white; font-size:18px; cursor:pointer; }
    #chatContainer iframe { width:100%; height:calc(100% - 40px); border:none; }

    /* --- Footer --- */
    .footer-content {
      background: linear-gradient(90deg, #4f46e5, #3730a3);
      color:#fff; text-align:center; padding:40px 20px;
    }
    .footer-content a { color:#fff; margin:0 10px; transition:0.3s; }
    .footer-content a:hover { color:#75f2f2; }

    /* --- Animations --- */
    @keyframes fadeInUp { to{ opacity:1; transform:translateY(0);} }

    /* --- Responsive --- */
    @media(max-width:600px){
      .search-bar input{ width:90vw; max-width:320px; }
      .search-bar button{ width:100%; margin-top:8px; }
      .grid{ grid-template-columns:1fr; gap:14px; }
      .hero h2{ font-size:2rem; } .hero p{ font-size:1rem; }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
   <header class="navbar">
    <div class="nav-content">
      <h1 class="logo">‚öñ NyaySetu</h1>

      <span class="menu-toggle" onclick="toggleMenu()">‚ò∞</span>

      <nav id="navMenu">
        <a href="index.html">Home</a>
        <a href="advocate.html">Find Advocate</a>
        <a href="contact.html">Contact Us</a>
        <a href="javascript:void(0)" onclick="toggleChat()">üí¨ NyayMitra</a>
        <a href="news.html">LegalNews</a>
      </nav>

      <a href="profile.html" class="profile-icon">
        <img src="user.jpg" alt="Profile">
      </a>
    </div>
  </header>

  <!-- Chatbot -->
  <div id="chatContainer">
    <div class="chat-header">
      <span>ü§ñ NyayMitra</span>
      <button class="close-btn" onclick="toggleChat()">‚úñ</button>
    </div>
    <iframe src="chatbot.html"></iframe>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <h2>Find trusted Advocate and Legal Help</h2>
    <p>Connect with lawyers in your city, get documents and ask our legal chatbot</p>
    <div class="search-bar">
      <input type="text" placeholder="Enter your city and Case type">
      <button onclick="searchAdvocate()">Search</button>
    </div>
  </section>

  <!-- Advocate Section -->
  <section id="advocates" class="section">
    <h3>üë®‚Äç‚öñ Find an Advocate</h3>
    <p>Search advocates by specialization and region</p>
    <div class="grid">
      <div class="card">
        <h4>Criminal law</h4>
        <p>Experienced lawyers in criminal defense and legal rights</p>
      </div>
      <div class="card">
        <h4>Family law</h4>
        <p>Divorce, custody, marriage disputes and more</p>
      </div>
      <div class="card">
        <h4>Corporate law</h4>
        <p>Business contracts, disputes, compliance support</p>
      </div>
    </div>
  </section>

  
  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <h3>‚öñ NyaySetu</h3>
      <p>Connect with trusted advocates and get legal help</p>
      <p>&copy; 2025 Law. All rights reserved.</p>
    </div>
  </footer>

  <!-- JS -->
  <script>
   const BACKEND = "https://nyaysetu-backend-uefx.onrender.com";

    // Navbar toggle
    function toggleMenu() {
      document.getElementById("navMenu").classList.toggle("active");
    }

    // Chatbot toggle
    function toggleChat() {
  const chat = document.getElementById("chatContainer");

  if (chat.style.display === "block") {
    chat.style.display = "none";
  } else {
    chat.style.display = "block";
  }
}

    // Slider scroll
    function scrollSlider(val){
      document.getElementById("slider").scrollBy({ left: val, behavior:"smooth" });
    }

    // Contact advocate
    function contactAdvocate(email){ alert("Contact Advocate at: " + email); }

    // Session check + show/hide links + load advocates
    window.addEventListener("load", function() {
      const loginLink = document.getElementById("loginLink");
      const myAccountLink = document.getElementById("myAccountLink");
      const logoutLink = document.getElementById("logoutLink");
      const advocateProfiles = document.getElementById("advocateprofiles");

      
    });

    // Logout
    function logout() {
      fetch(`${BACKEND}/logout`, { credentials: "include" })
        .then(() => { window.location.href="/login.html"; });
    }

    // Load advocates dynamically
    async function loadAdvocates(){
      try{
        const res = await fetch(`${BACKEND}/advocates`);
        const advocates = await res.json();
        const slider = document.getElementById("slider");
        slider.innerHTML="";
        advocates.forEach(adv=>{
          const card=document.createElement("div");
          card.classList.add("card");
          card.innerHTML=`
            <img src="${adv.image||'advocate.webp'}" alt="${adv.fullname}" onerror="this.src='advocate.webp'"/>
            <h4>${adv.fullname}</h4>
            <p>${adv.specialization||"General Law"}</p>
            <p>üìç ${adv.city}, ${adv.state}</p>
            <button onclick="contactAdvocate('${adv.email}')">Contact</button>
          `;
          slider.appendChild(card);
        });
      }catch(err){ console.error(err); }
    }

    function searchAdvocate(){
      alert("Search functionality coming soon!");
    }

    let allAdvocates = []; // store all advocates globally

// Load advocates from backend
async function loadAdvocates() {
  try {
    const res = await fetch(`${BACKEND}/advocates`);
    const advocates = await res.json();
    allAdvocates = advocates; // store globally

    displayAdvocates(advocates);
  } catch (err) {
    console.error("Error loading advocates:", err);
  }
}

// Display advocates in slider or grid
function displayAdvocates(advocates) {
  const slider = document.getElementById("slider");
  slider.innerHTML = ""; // clear previous

  advocates.forEach(adv => {
    if (adv.barid || adv.specialization || adv.experience) {
      const card = document.createElement("div");
      card.classList.add("card");
      const imageSrc = adv.image && adv.image.trim() !== "" ? adv.image : "advocate.webp";

      card.innerHTML = `
        <img src="${imageSrc}" alt="Advocate Image" onerror="this.src='advocate.webp'" />
        <h4>${adv.fullname}</h4>
        <p>${adv.specialization || "General Law"}</p>
        <p>üìç ${adv.city}, ${adv.state}</p>
        <button onclick="contactAdvocate('${adv.email}')">Contact</button>
      `;
      slider.appendChild(card);
    }
  });
}

// Search function
function searchAdvocate() {
  const query = document.getElementById("searchInput").value.toLowerCase().trim();

  if (!query) {
    displayAdvocates(allAdvocates);
    return;
  }

  const filtered = allAdvocates.filter(adv => {
    const city = adv.city || "";
    const specialization = adv.specialization || "";
    return city.toLowerCase().includes(query) || specialization.toLowerCase().includes(query);
  });

  displayAdvocates(filtered);
}

  </script>
</body>
</html>
